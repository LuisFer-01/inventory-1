@startuml

!define TABLE(x) class x << (T,#FFAAAA) >>

TABLE(branches) {
  +id: BIGINT
  +created_at: TIMESTAMP
  +updated_at: TIMESTAMP
  -name: VARCHAR
  -direction: VARCHAR
  -status: TINYINT
}

TABLE(categories) {
  +id: BIGINT
  +created_at: TIMESTAMP
  +updated_at: TIMESTAMP
  -name: VARCHAR
  -description: VARCHAR
}

TABLE(companies) {
  +id: BIGINT
  +created_at: TIMESTAMP
  +updated_at: TIMESTAMP
  -name: VARCHAR
  -direction: VARCHAR
  -phone: VARCHAR
  -status: TINYINT
}

TABLE(customers) {
  +id: BIGINT
  +created_at: TIMESTAMP
  +updated_at: TIMESTAMP
  -name: VARCHAR
  -email: VARCHAR
  -phone: VARCHAR
}

TABLE(menus) {
  +id: BIGINT
  +created_at: TIMESTAMP
  +updated_at: TIMESTAMP
  -name: VARCHAR
  -icon: VARCHAR
  -url: VARCHAR
  -order: INTEGER
  -status: TINYINT
  -parent_id: BIGINT
}

TABLE(migrations) {
  +id: BIGINT
  -migration: VARCHAR
  -batch: INTEGER
}

TABLE(password_resets) {
  -email: VARCHAR
  -token: VARCHAR
  -created_at: TIMESTAMP
}

TABLE(payments) {
  +id: BIGINT
  +created_at: TIMESTAMP
  +updated_at: TIMESTAMP
  -description: VARCHAR
  -amount: DECIMAL
  -status: TINYINT
  -customer_id: BIGINT
  -sell_id: BIGINT
  -user_id: BIGINT
}

TABLE(permissions) {
  +id: BIGINT
  +created_at: TIMESTAMP
  +updated_at: TIMESTAMP
  -role_id: BIGINT
  -menu_id: BIGINT
  -read: TINYINT
  -write: TINYINT
  -update: TINYINT
  -delete: TINYINT
}
TABLE(sells){
  +id: BIGINT
  +user_id: BIGINT
  +customer_id: BIGINT
  +branch_id: BIGINT
  -total_amount: DECIMAL
  -paid_amount: DECIMAL
  -sell_date: VARCHAR
  -discount_amount: DECIMAL
  -payment_method: TINYINT
  -payment_status: TINYINT
}

TABLE(users){
    +id: BIGINT
    -name: VARCHAR
    -email: VARCHAR
    -password: VARCHAR
    +branch_id: BIGINT
    +role_id: BIGINT
}

TABLE(roles){
    +id: BIGINT
    -role_name: VARCHAR
}

TABLE(products) {
  +id: BIGINT
  +created_at: TIMESTAMP
  +updated_at: TIMESTAMP
  -name: VARCHAR
  -description: VARCHAR
  -price: DECIMAL
  -status: TINYINT
  -category_id: BIGINT
}

TABLE(sell_details){
    +id: BIGINT
    +stock_id: BIGINT
    +sell_id: BIGINT
    +product_id: BIGINT
    +category_id: BIGINT
    +vendor_id: BIGINT
    +user_id: BIGINT
    -chalan_no: VARCHAR
    -selling_date: VARCHAR
    -customer_id: BIGINT
}

TABLE(stocks){
    +id: BIGINT
    +category_id: BIGINT
    -product_code: VARCHAR
    +product_id: BIGINT
    +vendor_id: BIGINT
    +user_id: BIGINT
    -chalan_no: VARCHAR
    -buying_price: DECIMAL
    -selling_price: DECIMAL
    -discount: DECIMAL
    -stock_quantity: INT
    -current_quantity: INT
}

TABLE(vendors){
    +id: BIGINT
    -name: VARCHAR
    -phone: VARCHAR
    -email: VARCHAR
    -address: VARCHAR
}

branches ||--o{ payments : "Tiene"
branches ||--o{ users: "1:N"
categories ||--o{ products: "1:N"
customers ||--o{ payments: "1:N"
customers ||--o{ sells: "1:N"
customers ||--o{ sell_details: "1:N"
companies ||--o{ payments : "1:N"
companies ||--o{ stocks : "1:N"
sells ||--o{ payments: "1:N"
sells ||--o{ sell_details: "1:N"
sell_details ||--o{ products: "1:N"
sell_details ||--o{ categories: "1:N"
sell_details ||--o{ stocks: "1:N"
stocks ||--o{ users: "1:N"
stocks ||--o{ categories: "1:N"
stocks ||--o{ products: "1:N"
stocks ||--o{ vendors: "1:N"
users ||--o{ payments: "1:N"
users ||--o{ roles: "1:N"
users ||--o{ sells: "1:N"
users ||--o{ sell_details: "1:N"
roles ||--o{ permissions: "1:N"
menus ||--o{ permissions: "1:N"

@enduml
